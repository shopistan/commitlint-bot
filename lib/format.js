const template = `
The following commits do not follow the [Shopistan Commits][cc] rules:

<PLACEHOLDER>

<details>

<DETAILS>

</details>

You may need to [change the commit messages][ref] to comply with the \
repository contributing guidelines.

--------

ðŸ¤– This comment was generated by [**shopistan-commitlint[bot]**][repo]. 
Please report issues at waleed(at)shopdev.co, nouman.anjum(at).shopistan.pk .

Happy coding!

[cc]: https://shopdev.atlassian.net/wiki/spaces/GEN/pages/16482354/Commit+lint+standards
[ref]: https://help.github.com/articles/changing-a-commit-message/
[repo]: https://github.com/shopistan/commitlint-bot
`;

/**
 * Formats array of commits warnings/errors as GitHub comment
 *
 * @param {Array} report
 */
function format(commits) {
	let details = '';
	let message = commits.map(c => `* ${c.sha}`).join('\n');

	commits.forEach(c => {
		details += `* Commit: ${c.sha}\n`;
		details += c.errors.map(e => `  - âœ– ${e.message}\n`).join('');
		details += c.warnings.map(w => `  - âš  ${w.message}\n`).join('');
	});

	return template
		.replace('<PLACEHOLDER>', message)
		.replace('<DETAILS>', details);
}

module.exports = format;
